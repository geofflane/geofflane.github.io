---
layout: post
status: publish
published: true
title: Why Do Tapestry and Hibernate Fight So Much?
author:
  display_name: Geoff Lane
  login: admin
  email: geoff@zorched.net
  url: http://www.zorched.net
author_login: admin
author_email: geoff@zorched.net
author_url: http://www.zorched.net
wordpress_id: 29
wordpress_url: http://www.zorched.net/2006/04/22/why-do-tapestry-and-hibernate-fight-so-much/
date: '2006-04-22 12:34:32 -0400'
date_gmt: '2006-04-22 18:34:32 -0400'
categories:
- Code
- Java
tags: []
comments:
- id: 93
  author: Frank Cohen
  author_email: fcohen@pushtotest.com
  author_url: http://www.pushtotest.com
  date: '2006-04-23 22:56:50 -0400'
  date_gmt: '2006-04-24 04:56:50 -0400'
  content: "Good posting. I'm a newbie to Tapestry, Hibernate and Spring. What do
    you recommend for me to get started learning these and writing code with them?\r\n\r\nAlso,
    you helped develop Inclusion's Tapestry&#47;Hibernate&#47;Spring-like code back
    in the 1990's. How would you compare them?\r\n\r\n-Frank"
- id: 94
  author: Geoff Lane
  author_email: geoff@zorched.net
  author_url: http://www.zorched.net
  date: '2006-04-24 06:57:07 -0400'
  date_gmt: '2006-04-24 12:57:07 -0400'
  content: "Hi Frank,\r\nThanks for reading my Blog!\r\n\r\nHibernate only does persistence,
    but it does it pretty well. Starting by using Hibernate as your persistence framework
    is often pretty easy to do. Spring on the other hand is a huge framework, but
    the advantage of it is that you can start off using just some small pieces of
    it as you see a need. The easist place to start with Spring is probably using
    the Inversion of Control (IoC) framework to inject DAO or Service objects into
    your code. Spring also provides some easy ways to configure Hibernate for transaction
    boundaries and things like that, so leveraging that functionality is nice next
    step.\r\n\r\nAs for Tapestry, as I said, I'm not sold yet on it. It seems to me
    to be overly complex for a View technology. You need 3 files just to render a
    page: An XML description, an HTML layout and a Java code behind file. Providing
    Beans to a JSP page seems much simpler to me for the majority of projects that
    don't have professional graphic designers working on them. Even the JSF route
    offers transparent, bi-directional mapping of Bean properties to form values without
    having anything but the View page and the Bean.\r\n\r\nThe combination of Spring
    and Hibernate offer some really good plumbing to use in an application and to
    get you started quickly without having to write reams of code. They make the persistence
    layer trivial and allow you to transparently swap in Mock objects for testing
    purposes.\r\n\r\nInclusion's code didn't use an ORM persistence layer, all of
    it had to be hand written SQL. It also didn't map to Objects per-se but was more
    oriented to field&#47;column level data. When you map to Object&#47;row level
    data there is a huge opportunity for performance gains since there's a strong
    probability that if you use a value from a row, you will use others from the same
    row and so you can collect them in a single query. Hibernate also provides a caching
    mechanism that often means you don't have to explictly code caching which keeps
    the application logic much simpler.\r\n\r\nAs an aside, there is a <a href=\"http:&#47;&#47;www.rubyonrails.com\"
    rel=\"nofollow\">Ruby on Rails<&#47;a> inspired framework for java called <a href=\"https:&#47;&#47;trails.dev.java.net&#47;\"
    rel=\"nofollow\">Trails<&#47;a> that is built on top of these 3 technologies.
    It's supposed to be a rapid prototyping framework that makes getting up and running
    with this stuff really easy. It seems that every new release changes things very
    dramtically, so none of the examples work, and it doesn't work out of the box
    on Mac OS X, but it might be an interesting project to keep an eye on."
- id: 116
  author: Jesse Kuhnert
  author_email: jkuhnert@gmail.com
  author_url: http://tapestry.apache.org
  date: '2006-06-21 16:21:53 -0400'
  date_gmt: '2006-06-21 22:21:53 -0400'
  content: Have you seen <a href="http:&#47;&#47;www.carmanconsulting.com&#47;tapernate"
    rel="nofollow">tapernate<&#47;a>? It makes things like this pretty trivial to
    work with now.
- id: 121
  author: tapped
  author_email: tapped@out.com
  author_url: ''
  date: '2006-07-10 16:48:02 -0400'
  date_gmt: '2006-07-10 22:48:02 -0400'
  content: I've just  completed a tapestry project and I can say that tapestry is
    _not_ a viable technology :-(  I hoped it was.  I'd read all about tapestry, and
    everyone's accolades, but I can say with great certainty that the small project
    I just completed took _at least_ 6 times as long to do in tapestry than it would
    have in jsf&#47;jsp -- there are simply too many artifacts involved with a tapestry
    application for it to be remotely close to "agile" development :-(  Hopefully
    HLS will get things right with annotations, but for now, the whole thing is best
    avoided if you wanna keep your job and your sanity.
- id: 125
  author: Geoff Lane
  author_email: geoff@zorched.net
  author_url: http://www.zorched.net
  date: '2006-07-14 10:02:00 -0400'
  date_gmt: '2006-07-14 16:02:00 -0400'
  content: "Jesse,\r\n\r\n(actually I met you in Milwaukee at one of my clients when
    you came in to train them on <a href=\"http:&#47;&#47;tacos.sourceforge.net&#47;\">Tacos<&#47;a>)
    \r\n\r\nYes, I've seen and used Tapernate - you showed it to me. :)\r\n\r\nTapernate
    is a 50% solution for Tapestry&#47;Hibernate issues. You still have to create
    your own squeezers for drop-down lists, it doesn't handle collections of persistent
    objects, etc. I think I'll write a full blog post  about this at some point. Tapernate
    is a good \"inspiration\" project for the kinds of things you need to do to intergrate
    Tapestry and Hibernate, but if you're doing anything more than the most trivial
    app, it's not going to be a full solution."
- id: 126
  author: Zorched &#47; One Line Fix &raquo; Blog Archive &raquo; Tapestry and Hibernate
    Take 2
  author_email: ''
  author_url: http://www.zorched.net/2006/07/15/tapestry-and-hibernate-take-2/
  date: '2006-07-15 12:04:24 -0400'
  date_gmt: '2006-07-15 18:04:24 -0400'
  content: "[...] In a previous post I lamented about Tapestry and Hibernate fighting
    each other. This was very soon after I had started using Tapestry for the first
    time, and I wanted to talk a little bit more about it now that I&#8217;ve been
    using it for a while. So now I can rant with much more detail. [...]"
- id: 261
  author: asdf
  author_email: asdf@asdf.asdf
  author_url: ''
  date: '2006-09-09 18:40:32 -0400'
  date_gmt: '2006-09-10 00:40:32 -0400'
  content: I've been using Tapestry with Hibernate for a long time and never had any
    problems. It appears you just don't know what you're doing, try and get some help
    on Tapestry's mailing list.
- id: 262
  author: Geoff Lane
  author_email: geoff@zorched.net
  author_url: http://www.zorched.net
  date: '2006-09-09 19:56:48 -0400'
  date_gmt: '2006-09-10 01:56:48 -0400'
  content: "asdf,\r\nI'm glad you have had success with Hibernate and Tapestry. Unfortunately,
    you don't have the confidence in your success to post with an actual name or email,
    so I won't assume that you know what you're talking about.\r\n\r\nTapernate is
    a project that exists to tie together Tapestry and Hibernate and to overcome the
    impedence mismatch between these projects. Unfortunately, it does not solve all
    of the issues very gracefully. Without this crutch, you can not do lazy loading
    with Hibernate objects and Tapestry. You can of course do a disconnected object
    model, but that seems like a lot of work for little or no gain to me.\r\n\r\nSo,
    thanks for reading the blog. I hope you can contribute a useful comment at some
    point."
- id: 10847
  author: Ken in nashua
  author_email: nhhockeyplayer@hotmail.com
  author_url: ''
  date: '2007-07-06 12:32:12 -0400'
  date_gmt: '2007-07-06 18:32:12 -0400'
  content: "Guys, \r\n\r\nWay to trade punches... loved this thread completely. Now
    I have made my remarks in remote posts on the web about tapestry. And it is really
    fine to see some nice hits take plase here. ASDF... most likely HLS. Am I a tapestry
    developer... yes... but everything in these posts are valid to the max.\r\n\r\nWould
    love to see more.\r\n\r\nIt's been about a year... can you guys start a few jabs
    for an update?"
- id: 10955
  author: Naveen
  author_email: naveen@insoft.com
  author_url: ''
  date: '2007-09-12 00:53:00 -0400'
  date_gmt: '2007-09-12 06:53:00 -0400'
  content: Can any one provide me a small sample application using Tapestry, Hibernate
    and MySql.  Thanks in advance.
- id: 15378
  author: Why Do Tapestry and Hibernate Fight So Much Zorched One Line Fix | outdoor
    rugs
  author_email: ''
  author_url: http://onlyoutdoorrugs.info/story.php?id=9543
  date: '2009-06-13 17:36:48 -0400'
  date_gmt: '2009-06-13 23:36:48 -0400'
  content: "[...] Why Do Tapestry and Hibernate Fight So Much Zorched One Line Fix
    \  Posted by root 18 minutes ago (http:&#47;&#47;www.zorched.net)        Website
    submit comment zorched one line fix blog archive tapestry and hibernate take 2
    fusion theme by digitalnature powered by wordpress        Discuss&nbsp;  |&nbsp;
    Bury |&nbsp;    News | Why Do Tapestry and Hibernate Fight So Much Zorched One
    Line Fix [...]"
---
<p>I've been away from doing much Java development recently. I've been getting paid to do .NET development and have been doing Ruby in my free time. So, I've been looking forward to get back to some Java programming  (which was the first language I ever got paid to develop). </p>
<p>I've recently been looking into an application that is using <a href="http:&#47;&#47;www.springframework.org">Spring<&#47;a>, <a href="http:&#47;&#47;jakarta.apache.org&#47;tapestry">Tapestry<&#47;a> and <a href="http:&#47;&#47;www.hibernate.org&#47;">Hibernate<&#47;a>. These are three very widely used frameworks. And they are often used together . . . so why is it that basic things like Lazy Loading in Hibernate are totally broken when you use Tapestry?</p>
<p>Sure you can use an Open Session In View servlet filter and that solves like 10% of the problem. But Tapestry serializes Objects into the page, stores some in the session and in general seems to create them and pass them around out of thin air. Well, when a Hibernate Object becomes detached from a Hibernate Session, you can no longer Lazy Load its child collections. There also seems to be no easy way to get hold of all of the Objects that might be used in the creation of a Page. You can subclass the Engine and get some items from the user's Session, you can Subclass the BasePage and find the properties of the Page and reattach those to the Hibernate Session. Great and then you only have to deal with the Objects that are passed between pages in other mysterious ways. Oh, and don't let it bother you that if an Object is re-instantiated with the same ID of an Object already in the Hibernate Session then you can't reattach it to the session.</p>
<p>And we call this an improvement?</p>
<p>Either this application is doing something totally crazy with Tapestry or just don't bother with this combination if you want to do anything that resembles a complex application with separate layers. The combination of Spring an Hibernate seem to work very well together and provide with a really strong framework on which to build an application. Tapestry though . . . I'm not yet sold.</p>
